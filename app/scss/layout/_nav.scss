// ==========================================================================
// Layout / Navs
// ==========================================================================

// ====== gobal nav properties / breadcrumbs, menus... ======

.nav {
	list-style: none;
	// margin: 0;
	padding: 0;
 
	li,	a {
		@include inline-block(baseline);
	}

	a {
		padding: .25em; // more usable for touch devices
		text-decoration: none;
	}
}

.subnav {
	
}

// ================ Main Nav ================

// top level nav element
.main-nav{
	@include inline-block(bottom);
	// position: absolute;
  //  right: 0;
  //  top: 50%;
  //  transform: translateY(-50%);
  float: right;
}

// list 
.main-nav-wrapper{

}

// list element
.main-nav-item{
	a {
		padding: 40px 1.25em;
		transition: all .3s ease-out;
		&:hover{
			background-color: rgba(0,0,0,0.05);
			opacity: 1;
		}
	}
}

// responsive main nav
@include mq($until: tablet){

	.main-nav{
		position: fixed;
		top:0;
		left:100%;
		width: 42%;
		min-width: 170px;
		height: 100%;
		padding-right: 4.2%;
		z-index: $z-top;
		transform:none;

		transition: transform .3s ;
		transition-timing-function: $ease;
		background-color: $white;
		color: $black;
		border-left: 1px solid $black;

		&.is-open{
			transform: translate3d(-100%,0,0);
			transition: transform .3s 0s;
			transition-timing-function: $ease;
		}
	}

	.main-nav-wrapper{
		margin-top: 150px;
    text-align: right;
	}

	.nav .main-nav-item {
		display: block;
		a{
			padding: .5em;
		}
	}

}


// ================ Hamburger ================

// if content should move when opening mobile nav
$moveContent : true ;

body {
	.logo-wrapper,
	.main-wrapper,
	.main-footer {
		transition: transform .3s $ease, opacity .3s $ease, filter .3s $ease ;
	}
	&.nav-open{
		@if $moveContent {
			.logo-wrapper,
			.main-wrapper,
			.main-footer {
				transform: translate3d(-120px, 0 , 0 ) scale3d(.9,.9,.9);
				opacity: .8;
				filter: blur(3px);
			}
		}
	}
}

.mobile-nav-toggle {
	display: none;
	@include mq($until: tablet){
		display: block;
	}
	position: absolute;
	top:50%;
	right:0;
	width: 15px;
	opacity: 1;
	padding: 25px;
	transform: translateY(-50%);
	user-select: none;
	box-sizing: content-box;
	cursor: pointer;
	transition: all .3s;
	z-index: 1000;
 
	div {
	  width: 100%;
		height: 2px;
		background: black;
		transition: all .3s ;
		backface-visibility: hidden;
		-webkit-transform-style: preserve-3d;
	}
	div + div {
		margin-top: 3px;
	}
	.one, .two {
		transform: rotate3d(0, 0, 1, 0deg) translate3d(0, 0, 0);
	}

	&.on{
		//position: fixed;
	  //top: 0;

		.one{
			transform: rotate3d(0, 0, 1, 45deg) ;
			transform-origin: 0% 0%;
		}
		.two{
			opacity: 0;
		}
		.three{
			transform: rotate3d(0, 0, 1, -45deg) ;
			transform-origin: 0% 100%;
		}
	}
}

.mobile-nav-toggle--close{
	display: none;
}
.main-nav.is-open + .mobile-nav-toggle--close{
	position: fixed;
  top: 0;
  left: 0;
	display:block;
	width: 100%;
	height: 100%;
	z-index: $z-back;
	// background-color: rgba(0,0,0,0.25);
}
